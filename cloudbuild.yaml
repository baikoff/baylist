steps:
  - name: maven:3.9.9-amazoncorretto-21-alpine
    entrypoint: mvn
    args: [ 'package', '-DskipTests' ]

artifacts:
  mavenArtifacts:
    - repository: 'https://europe-west6-maven.pkg.dev/key-charmer-444222-i1/cloud-run-source-deploy'
      path: 'baylist-0.0.2.jar'
      artifactId: 'buylist'
      groupId: 'org.baylist'
      version: '0.0.2'

timeout: '1200s'

options:
  logging: CLOUD_LOGGING_ONLY

# Optional: Use a custom service account for build steps
serviceAccount: 'projects/key-charmer-444222-i1/serviceAccounts/339598143858-compute@developer.gserviceaccount.com'